{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport useCheckForChecks from '../King activity/Checks';\nimport { useSelector } from 'react-redux';\nexport default function useCanCastle() {\n  _s();\n\n  const {\n    gameField,\n    turn,\n    castlingMoved\n  } = useSelector(store => store.chess);\n  const checkForChecks = useCheckForChecks();\n  return (x, y) => {\n    let castlingMoves = [];\n\n    for (let rook of [x - 4, x + 3]) {\n      if (x !== 4 || gameField[y][rook] !== turn + 'R' || castlingMoved.includes(gameField[y][x]) || castlingMoved.includes(rook + turn + 'R') || checkForChecks([x, y]).length) continue;\n      let k = rook > 4 ? 1 : -1;\n      if (checkForChecks([4 + k, y]) || gameField[y][4 + k] !== '0' || checkForChecks([4 + 2 * k, y]) || gameField[y][4 + 2 * k] !== '0') continue;\n      castlingMoves.push([rook, y]);\n    }\n\n    return castlingMoves;\n  };\n}\n\n_s(useCanCastle, \"xiwE71RS6vmdvCZ+aol5EfPgmV0=\", false, function () {\n  return [useSelector, useCheckForChecks];\n});","map":{"version":3,"names":["useCheckForChecks","useSelector","useCanCastle","gameField","turn","castlingMoved","store","chess","checkForChecks","x","y","castlingMoves","rook","includes","length","k","push"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Game/Pieces/Logic/Next moves/Allow castling.js"],"sourcesContent":["import useCheckForChecks from '../King activity/Checks'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function useCanCastle() {\r\n\tconst { gameField, turn, castlingMoved } = useSelector((store) => store.chess)\r\n\tconst checkForChecks = useCheckForChecks()\r\n\r\n\treturn (x, y) => {\r\n\t\tlet castlingMoves = []\r\n\t\tfor (let rook of [x - 4, x + 3]) {\r\n\t\t\tif (\r\n\t\t\t\tx !== 4 ||\r\n\t\t\t\tgameField[y][rook] !== turn + 'R' ||\r\n\t\t\t\tcastlingMoved.includes(gameField[y][x]) ||\r\n\t\t\t\tcastlingMoved.includes(rook + turn + 'R') ||\r\n\t\t\t\tcheckForChecks([x, y]).length\r\n\t\t\t)\r\n\t\t\t\tcontinue\r\n\r\n\t\t\tlet k = rook > 4 ? 1 : -1\r\n\r\n\t\t\tif (\r\n\t\t\t\tcheckForChecks([4 + k, y]) ||\r\n\t\t\t\tgameField[y][4 + k] !== '0' ||\r\n\t\t\t\tcheckForChecks([4 + 2 * k, y]) ||\r\n\t\t\t\tgameField[y][4 + 2 * k] !== '0'\r\n\t\t\t)\r\n\t\t\t\tcontinue\r\n\r\n\t\t\tcastlingMoves.push([rook, y])\r\n\t\t}\r\n\r\n\t\treturn castlingMoves\r\n\t}\r\n}\r\n"],"mappings":";;AAAA,OAAOA,iBAAP,MAA8B,yBAA9B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,eAAe,SAASC,YAAT,GAAwB;EAAA;;EACtC,MAAM;IAAEC,SAAF;IAAaC,IAAb;IAAmBC;EAAnB,IAAqCJ,WAAW,CAAEK,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAAtD;EACA,MAAMC,cAAc,GAAGR,iBAAiB,EAAxC;EAEA,OAAO,CAACS,CAAD,EAAIC,CAAJ,KAAU;IAChB,IAAIC,aAAa,GAAG,EAApB;;IACA,KAAK,IAAIC,IAAT,IAAiB,CAACH,CAAC,GAAG,CAAL,EAAQA,CAAC,GAAG,CAAZ,CAAjB,EAAiC;MAChC,IACCA,CAAC,KAAK,CAAN,IACAN,SAAS,CAACO,CAAD,CAAT,CAAaE,IAAb,MAAuBR,IAAI,GAAG,GAD9B,IAEAC,aAAa,CAACQ,QAAd,CAAuBV,SAAS,CAACO,CAAD,CAAT,CAAaD,CAAb,CAAvB,CAFA,IAGAJ,aAAa,CAACQ,QAAd,CAAuBD,IAAI,GAAGR,IAAP,GAAc,GAArC,CAHA,IAIAI,cAAc,CAAC,CAACC,CAAD,EAAIC,CAAJ,CAAD,CAAd,CAAuBI,MALxB,EAOC;MAED,IAAIC,CAAC,GAAGH,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,CAAC,CAAxB;MAEA,IACCJ,cAAc,CAAC,CAAC,IAAIO,CAAL,EAAQL,CAAR,CAAD,CAAd,IACAP,SAAS,CAACO,CAAD,CAAT,CAAa,IAAIK,CAAjB,MAAwB,GADxB,IAEAP,cAAc,CAAC,CAAC,IAAI,IAAIO,CAAT,EAAYL,CAAZ,CAAD,CAFd,IAGAP,SAAS,CAACO,CAAD,CAAT,CAAa,IAAI,IAAIK,CAArB,MAA4B,GAJ7B,EAMC;MAEDJ,aAAa,CAACK,IAAd,CAAmB,CAACJ,IAAD,EAAOF,CAAP,CAAnB;IACA;;IAED,OAAOC,aAAP;EACA,CA1BD;AA2BA;;GA/BuBT,Y;UACoBD,W,EACpBD,iB"},"metadata":{},"sourceType":"module"}