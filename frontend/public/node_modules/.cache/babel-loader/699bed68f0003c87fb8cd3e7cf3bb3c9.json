{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useSelector } from 'react-redux';\nimport { turns } from '../Move piece/Move piece';\nlet checkCRD = [];\nexport default function useCheckForChecks() {\n  _s();\n\n  const {\n    gameField,\n    turn\n  } = useSelector(store => store.chess);\n  return _ref => {\n    let [a, b] = _ref;\n    let check = 0;\n    const color = turns[turn];\n\n    function checkCell(_ref2, piece, i) {\n      let [x, y] = _ref2;\n      let name = gameField[y][x];\n\n      if (name !== '0' && name !== turns[color] + 'K') {\n        if (name === color + 'K' && Math.abs(i) === 1) {\n          checkCRD = [x, y];\n          check += 1;\n        } else if (name === color + 'Q' || name === color + piece) {\n          checkCRD = [x, y];\n          check += 1;\n        } else if (piece === 'B' && name === color + 'P' && (color === 'w' ? 1 : -1) === i) {\n          checkCRD = [x, y];\n          check += 1;\n        }\n\n        return true;\n      }\n    } // Rook check\n\n\n    for (let i = 1; a + i < 8; i++) {\n      if (checkCell([a + i, b], 'R', i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; a - i >= 0; i++) {\n      if (checkCell([a - i, b], 'R', i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b + i < 8; i++) {\n      if (checkCell([a, b + i], 'R', i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b - i >= 0; i++) {\n      if (checkCell([a, b - i], 'R', i)) {\n        break;\n      }\n    } // Bishop check\n\n\n    for (let i = 1; a + i < 8 && b + i < 8; i++) {\n      if (checkCell([a + i, b + i], 'B', i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; a - i >= 0 && b - i >= 0; i++) {\n      if (checkCell([a - i, b - i], 'B', -i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b + i < 8 && a - i >= 0; i++) {\n      if (checkCell([a - i, b + i], 'B', i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b - i >= 0 && a + i < 8; i++) {\n      if (checkCell([a + i, b - i], 'B', -i)) {\n        break;\n      }\n    }\n\n    let knights = [[a - 2, b - 1], [a - 1, b + 2], [a - 2, b + 1], [a + 1, b + 2], [a + 2, b - 1], [a - 1, b - 2], [a + 2, b + 1], [a + 1, b - 2]];\n    knights = knights.filter(_ref3 => {\n      let [x, y] = _ref3;\n      return x >= 0 && x < 8 && y >= 0 && y < 8 && gameField[y][x][0] !== turn;\n    });\n    knights.forEach(_ref4 => {\n      let [x, y] = _ref4;\n\n      if (gameField[y][x][1] === 'N') {\n        checkCRD = [x, y];\n        check += 1;\n      }\n    });\n    return check;\n  };\n}\n\n_s(useCheckForChecks, \"PyswnraCOO868hYsuhle+CeOSW0=\", false, function () {\n  return [useSelector];\n});","map":{"version":3,"names":["useSelector","turns","checkCRD","useCheckForChecks","gameField","turn","store","chess","a","b","check","color","checkCell","piece","i","x","y","name","Math","abs","knights","filter","forEach"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Game/Pieces/Logic/King activity/Checks.js"],"sourcesContent":["import { useSelector } from 'react-redux'\r\nimport { turns } from '../Move piece/Move piece'\r\n\r\nlet checkCRD = []\r\n\r\nexport default function useCheckForChecks() {\r\n\tconst { gameField, turn } = useSelector((store) => store.chess)\r\n\r\n    return ([a, b]) => {\r\n        \r\n\t\tlet check = 0\r\n\t\tconst color = turns[turn]\r\n\r\n\t\tfunction checkCell([x, y], piece, i) {\r\n\t\t\tlet name = gameField[y][x]\r\n\r\n\t\t\tif (name !== '0' && name !== turns[color] + 'K') {\r\n\t\t\t\tif (name === color + 'K' && Math.abs(i) === 1) {\r\n\t\t\t\t\tcheckCRD = [x, y]\r\n\t\t\t\t\tcheck += 1\r\n\t\t\t\t} else if (name === color + 'Q' || name === color + piece) {\r\n\t\t\t\t\tcheckCRD = [x, y]\r\n\t\t\t\t\tcheck += 1\r\n\t\t\t\t} else if (\r\n\t\t\t\t\tpiece === 'B' &&\r\n\t\t\t\t\tname === color + 'P' &&\r\n\t\t\t\t\t(color === 'w' ? 1 : -1) === i\r\n\t\t\t\t) {\r\n\t\t\t\t\tcheckCRD = [x, y]\r\n\t\t\t\t\tcheck += 1\r\n\t\t\t\t}\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Rook check\r\n\r\n\t\tfor (let i = 1; a + i < 8; i++) {\r\n\t\t\tif (checkCell([a + i, b], 'R', i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i = 1; a - i >= 0; i++) {\r\n\t\t\tif (checkCell([a - i, b], 'R', i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i = 1; b + i < 8; i++) {\r\n\t\t\tif (checkCell([a, b + i], 'R', i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i = 1; b - i >= 0; i++) {\r\n\t\t\tif (checkCell([a, b - i], 'R', i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Bishop check\r\n\r\n\t\tfor (let i = 1; a + i < 8 && b + i < 8; i++) {\r\n\t\t\tif (checkCell([a + i, b + i], 'B', i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i = 1; a - i >= 0 && b - i >= 0; i++) {\r\n\t\t\tif (checkCell([a - i, b - i], 'B', -i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i = 1; b + i < 8 && a - i >= 0; i++) {\r\n\t\t\tif (checkCell([a - i, b + i], 'B', i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (let i = 1; b - i >= 0 && a + i < 8; i++) {\r\n\t\t\tif (checkCell([a + i, b - i], 'B', -i)) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet knights = [\r\n\t\t\t[a - 2, b - 1],\r\n\t\t\t[a - 1, b + 2],\r\n\t\t\t[a - 2, b + 1],\r\n\t\t\t[a + 1, b + 2],\r\n\t\t\t[a + 2, b - 1],\r\n\t\t\t[a - 1, b - 2],\r\n\t\t\t[a + 2, b + 1],\r\n\t\t\t[a + 1, b - 2],\r\n\t\t]\r\n\r\n\t\tknights = knights.filter(\r\n\t\t\t([x, y]) =>\r\n\t\t\t\tx >= 0 &&\r\n\t\t\t\tx < 8 &&\r\n\t\t\t\ty >= 0 &&\r\n\t\t\t\ty < 8 &&\r\n\t\t\t\tgameField[y][x][0] !== turn\r\n\t\t)\r\n\r\n\t\tknights.forEach(([x, y]) => {\r\n\t\t\tif (gameField[y][x][1] === 'N') {\r\n\t\t\t\tcheckCRD = [x, y]\r\n\t\t\t\tcheck += 1\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn check\r\n\t}\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}