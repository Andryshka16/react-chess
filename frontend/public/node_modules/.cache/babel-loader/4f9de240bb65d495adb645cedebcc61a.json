{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alapc\\\\OneDrive\\\\Documents\\\\Programming\\\\chess\\\\src\\\\Components\\\\Chessboard\\\\Components\\\\Indicators\\\\Pawn promotion\\\\Promotion.js\",\n    _s = $RefreshSig$();\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setPromoted } from '../../../../../features/chess/chessSlice';\nimport PromotionPiece from './Promotion piece';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction getChoices(_ref) {\n  let [x, y] = _ref;\n\n  if (y === 0) {\n    return x < 7 ? ['Q', 'N', 'B', 'R'] : ['N', 'Q', 'R', 'B'];\n  } else if (y === 7) {\n    return x < 7 ? ['B', 'R', 'Q', 'N'] : ['R', 'B', 'N', 'Q'];\n  }\n}\n\nexport default function Promotion() {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    promoted\n  } = useSelector(store => store.chess);\n  if (!promoted) return;\n  const {\n    x2: x,\n    y2: y\n  } = promoted;\n  const choices = getChoices([x, y]);\n  const styles = {\n    left: `${(x < 7 ? x : x - 1) * 80}px`,\n    top: `${(y < 7 ? y : y - 1) * 80}px`\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'shadow',\n      onClick: () => dispatch(setPromoted(null))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'promotion',\n      style: styles,\n      children: choices.map((piece, id) => /*#__PURE__*/_jsxDEV(PromotionPiece, {\n        name: piece,\n        index: id\n      }, piece, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Promotion, \"IkcKyk53k3SxiJUrkx6doZFLSCM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Promotion;\n\nvar _c;\n\n$RefreshReg$(_c, \"Promotion\");","map":{"version":3,"names":["useDispatch","useSelector","setPromoted","PromotionPiece","getChoices","x","y","Promotion","dispatch","promoted","store","chess","x2","y2","choices","styles","left","top","map","piece","id"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Components/Chessboard/Components/Indicators/Pawn promotion/Promotion.js"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux'\r\nimport { setPromoted } from '../../../../../features/chess/chessSlice'\r\nimport PromotionPiece from './Promotion piece'\r\n\r\nfunction getChoices([x, y]) {\r\n    if (y === 0) {\r\n        return x < 7 ? ['Q', 'N', 'B', 'R'] : ['N', 'Q', 'R', 'B']\r\n    } else if (y === 7) {\r\n        return x < 7 ? ['B', 'R', 'Q', 'N'] : ['R', 'B', 'N', 'Q']\r\n    }\r\n}\r\n\r\nexport default function Promotion() {\r\n    const dispatch = useDispatch()\r\n    const { promoted } = useSelector((store) => store.chess)\r\n\r\n    if (!promoted) return\r\n\r\n    const { x2: x, y2: y } = promoted\r\n    const choices = getChoices([x, y])\r\n\r\n    const styles = {\r\n        left: `${(x < 7 ? x : x - 1) * 80}px`,\r\n        top: `${(y < 7 ? y : y - 1) * 80}px`\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className={'shadow'}\r\n                onClick={() => dispatch(setPromoted(null))}\r\n            ></div>\r\n            <div className={'promotion'} style={styles}>\r\n                {choices.map((piece, id) => (\r\n                    <PromotionPiece key={piece} name={piece} index={id} />\r\n                ))}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,0CAA5B;AACA,OAAOC,cAAP,MAA2B,mBAA3B;;;;AAEA,SAASC,UAAT,OAA4B;EAAA,IAAR,CAACC,CAAD,EAAIC,CAAJ,CAAQ;;EACxB,IAAIA,CAAC,KAAK,CAAV,EAAa;IACT,OAAOD,CAAC,GAAG,CAAJ,GAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAR,GAA+B,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAtC;EACH,CAFD,MAEO,IAAIC,CAAC,KAAK,CAAV,EAAa;IAChB,OAAOD,CAAC,GAAG,CAAJ,GAAQ,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAR,GAA+B,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,CAAtC;EACH;AACJ;;AAED,eAAe,SAASE,SAAT,GAAqB;EAAA;;EAChC,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;EACA,MAAM;IAAES;EAAF,IAAeR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAAhC;EAEA,IAAI,CAACF,QAAL,EAAe;EAEf,MAAM;IAAEG,EAAE,EAAEP,CAAN;IAASQ,EAAE,EAAEP;EAAb,IAAmBG,QAAzB;EACA,MAAMK,OAAO,GAAGV,UAAU,CAAC,CAACC,CAAD,EAAIC,CAAJ,CAAD,CAA1B;EAEA,MAAMS,MAAM,GAAG;IACXC,IAAI,EAAG,GAAE,CAACX,CAAC,GAAG,CAAJ,GAAQA,CAAR,GAAYA,CAAC,GAAG,CAAjB,IAAsB,EAAG,IADvB;IAEXY,GAAG,EAAG,GAAE,CAACX,CAAC,GAAG,CAAJ,GAAQA,CAAR,GAAYA,CAAC,GAAG,CAAjB,IAAsB,EAAG;EAFtB,CAAf;EAKA,oBACI;IAAA,wBACI;MACI,SAAS,EAAE,QADf;MAEI,OAAO,EAAE,MAAME,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ;IAF3B;MAAA;MAAA;MAAA;IAAA,QADJ,eAKI;MAAK,SAAS,EAAE,WAAhB;MAA6B,KAAK,EAAEa,MAApC;MAAA,UACKD,OAAO,CAACI,GAAR,CAAY,CAACC,KAAD,EAAQC,EAAR,kBACT,QAAC,cAAD;QAA4B,IAAI,EAAED,KAAlC;QAAyC,KAAK,EAAEC;MAAhD,GAAqBD,KAArB;QAAA;QAAA;QAAA;MAAA,QADH;IADL;MAAA;MAAA;MAAA;IAAA,QALJ;EAAA,gBADJ;AAaH;;GA3BuBZ,S;UACHP,W,EACIC,W;;;KAFDM,S"},"metadata":{},"sourceType":"module"}