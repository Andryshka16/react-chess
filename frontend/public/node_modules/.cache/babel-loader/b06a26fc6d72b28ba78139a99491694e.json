{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alapc\\\\OneDrive\\\\Documents\\\\Programming\\\\chess\\\\src\\\\Chessboard\\\\Pieces\\\\Logic\\\\Pawn promotion\\\\Promotion piece.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setPromoted } from '../../../../features/chess/chessSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst turns = {\n  w: 'b',\n  b: 'w'\n};\n\nfunction togglePointerEvents(state) {\n  document.querySelectorAll('.figure').forEach(p => p.style.pointerEvents = state);\n}\n\nexport default function PromotionPiece(_ref) {\n  _s();\n\n  let {\n    index,\n    name\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    selected,\n    turn\n  } = useSelector(store => store.chess);\n  let scales = {\n    Q: 0.85,\n    B: 0.8\n  };\n  let marginTop = {\n    Q: '3px',\n    R: '-1px'\n  };\n  let scale = scales[name] || 0.7;\n  const styles = {\n    top: `${Math.floor(index / 2) * 60}px`,\n    left: `${index % 2 * 60}px`,\n    transform: `scale(${scale})`,\n    marginTop: marginTop[name]\n  };\n\n  function handleMouseOver(event) {\n    event.target.style.transform = `scale(${scale * 1.2})`;\n  }\n\n  function handleMouseOut(event) {\n    event.target.style.transform = `scale(${scale})`;\n  }\n\n  function handleMouseClick() {\n    // let [x1, y1, , , setPiece] = recentPieceCrd\n    dispatch(setPromoted({\n      name: turns[turn] + name\n    })); // updateState(setPiece,{\n    //     name: turns[turn] + name,\n    //     x,\n    //     y,\n    //     from: {x: x1, y: y1}\n    // })\n    // setPromoted(false)\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    src: `./images/${turns[turn] + name}.png`,\n    alt: 'failed',\n    className: 'figure',\n    style: styles,\n    onMouseOver: handleMouseOver,\n    onMouseOut: handleMouseOut,\n    onClick: handleMouseClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 3\n  }, this);\n}\n\n_s(PromotionPiece, \"SCTdd84yk/SSdGKrMY7P63bq4w8=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = PromotionPiece;\n\nvar _c;\n\n$RefreshReg$(_c, \"PromotionPiece\");","map":{"version":3,"names":["React","useContext","useDispatch","useSelector","setPromoted","turns","w","b","togglePointerEvents","state","document","querySelectorAll","forEach","p","style","pointerEvents","PromotionPiece","index","name","dispatch","selected","turn","store","chess","scales","Q","B","marginTop","R","scale","styles","top","Math","floor","left","transform","handleMouseOver","event","target","handleMouseOut","handleMouseClick"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Pieces/Logic/Pawn promotion/Promotion piece.js"],"sourcesContent":["import React, { useContext } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setPromoted } from '../../../../features/chess/chessSlice'\r\n\r\nconst turns = { w: 'b', b: 'w' }\r\n\r\nfunction togglePointerEvents(state) {\r\n\tdocument\r\n\t\t.querySelectorAll('.figure')\r\n\t\t.forEach((p) => (p.style.pointerEvents = state))\r\n}\r\n\r\nexport default function PromotionPiece({ index, name }) {\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst { selected, turn } = useSelector((store) => store.chess)\r\n\r\n\tlet scales = {\r\n\t\tQ: 0.85,\r\n\t\tB: 0.8,\r\n\t}\r\n\r\n\tlet marginTop = {\r\n\t\tQ: '3px',\r\n\t\tR: '-1px',\r\n\t}\r\n\r\n\tlet scale = scales[name] || 0.7\r\n\r\n\tconst styles = {\r\n\t\ttop: `${Math.floor(index / 2) * 60}px`,\r\n\t\tleft: `${(index % 2) * 60}px`,\r\n\t\ttransform: `scale(${scale})`,\r\n\t\tmarginTop: marginTop[name],\r\n\t}\r\n\r\n\tfunction handleMouseOver(event) {\r\n\t\tevent.target.style.transform = `scale(${scale * 1.2})`\r\n\t}\r\n\r\n\tfunction handleMouseOut(event) {\r\n\t\tevent.target.style.transform = `scale(${scale})`\r\n\t}\r\n\r\n\tfunction handleMouseClick() {\r\n\t\t// let [x1, y1, , , setPiece] = recentPieceCrd\r\n        dispatch(setPromoted({ name: turns[turn] + name }))\r\n\r\n\t\t// updateState(setPiece,{\r\n\t\t//     name: turns[turn] + name,\r\n\t\t//     x,\r\n\t\t//     y,\r\n\t\t//     from: {x: x1, y: y1}\r\n\t\t// })\r\n\r\n\t\t// setPromoted(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<img\r\n\t\t\tsrc={`./images/${turns[turn] + name}.png`}\r\n\t\t\talt={'failed'}\r\n\t\t\tclassName={'figure'}\r\n\t\t\tstyle={styles}\r\n\t\t\tonMouseOver={handleMouseOver}\r\n\t\t\tonMouseOut={handleMouseOut}\r\n\t\t\tonClick={handleMouseClick}\r\n\t\t></img>\r\n\t)\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,uCAA5B;;AAEA,MAAMC,KAAK,GAAG;EAAEC,CAAC,EAAE,GAAL;EAAUC,CAAC,EAAE;AAAb,CAAd;;AAEA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;EACnCC,QAAQ,CACNC,gBADF,CACmB,SADnB,EAEEC,OAFF,CAEWC,CAAD,IAAQA,CAAC,CAACC,KAAF,CAAQC,aAAR,GAAwBN,KAF1C;AAGA;;AAED,eAAe,SAASO,cAAT,OAAyC;EAAA;;EAAA,IAAjB;IAAEC,KAAF;IAASC;EAAT,CAAiB;EAEvD,MAAMC,QAAQ,GAAGjB,WAAW,EAA5B;EACA,MAAM;IAAEkB,QAAF;IAAYC;EAAZ,IAAqBlB,WAAW,CAAEmB,KAAD,IAAWA,KAAK,CAACC,KAAlB,CAAtC;EAEA,IAAIC,MAAM,GAAG;IACZC,CAAC,EAAE,IADS;IAEZC,CAAC,EAAE;EAFS,CAAb;EAKA,IAAIC,SAAS,GAAG;IACfF,CAAC,EAAE,KADY;IAEfG,CAAC,EAAE;EAFY,CAAhB;EAKA,IAAIC,KAAK,GAAGL,MAAM,CAACN,IAAD,CAAN,IAAgB,GAA5B;EAEA,MAAMY,MAAM,GAAG;IACdC,GAAG,EAAG,GAAEC,IAAI,CAACC,KAAL,CAAWhB,KAAK,GAAG,CAAnB,IAAwB,EAAG,IADrB;IAEdiB,IAAI,EAAG,GAAGjB,KAAK,GAAG,CAAT,GAAc,EAAG,IAFZ;IAGdkB,SAAS,EAAG,SAAQN,KAAM,GAHZ;IAIdF,SAAS,EAAEA,SAAS,CAACT,IAAD;EAJN,CAAf;;EAOA,SAASkB,eAAT,CAAyBC,KAAzB,EAAgC;IAC/BA,KAAK,CAACC,MAAN,CAAaxB,KAAb,CAAmBqB,SAAnB,GAAgC,SAAQN,KAAK,GAAG,GAAI,GAApD;EACA;;EAED,SAASU,cAAT,CAAwBF,KAAxB,EAA+B;IAC9BA,KAAK,CAACC,MAAN,CAAaxB,KAAb,CAAmBqB,SAAnB,GAAgC,SAAQN,KAAM,GAA9C;EACA;;EAED,SAASW,gBAAT,GAA4B;IAC3B;IACMrB,QAAQ,CAACf,WAAW,CAAC;MAAEc,IAAI,EAAEb,KAAK,CAACgB,IAAD,CAAL,GAAcH;IAAtB,CAAD,CAAZ,CAAR,CAFqB,CAI3B;IACA;IACA;IACA;IACA;IACA;IAEA;EACA;;EAED,oBACC;IACC,GAAG,EAAG,YAAWb,KAAK,CAACgB,IAAD,CAAL,GAAcH,IAAK,MADrC;IAEC,GAAG,EAAE,QAFN;IAGC,SAAS,EAAE,QAHZ;IAIC,KAAK,EAAEY,MAJR;IAKC,WAAW,EAAEM,eALd;IAMC,UAAU,EAAEG,cANb;IAOC,OAAO,EAAEC;EAPV;IAAA;IAAA;IAAA;EAAA,QADD;AAWA;;GAzDuBxB,c;UAENd,W,EACUC,W;;;KAHJa,c"},"metadata":{},"sourceType":"module"}