{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useSelector } from 'react-redux';\nimport { turns } from \"../Move piece/Move piece\";\nlet checkCRD = [];\nexport default function useCheckForChecks() {\n  _s();\n\n  const {\n    gameField,\n    turn\n  } = useSelector(store => store.chess);\n  let check = 0;\n  const color = turns[turn];\n  return _ref => {\n    let [a, b] = _ref;\n\n    // Rook check\n    for (let i = 1; a + i < 8; i++) {\n      if (checkCell([a + i, b], \"R\", i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; a - i >= 0; i++) {\n      if (checkCell([a - i, b], \"R\", i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b + i < 8; i++) {\n      if (checkCell([a, b + i], \"R\", i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b - i >= 0; i++) {\n      if (checkCell([a, b - i], \"R\", i)) {\n        break;\n      }\n    } // Bishop check\n\n\n    for (let i = 1; a + i < 8 && b + i < 8; i++) {\n      if (checkCell([a + i, b + i], \"B\", i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; a - i >= 0 && b - i >= 0; i++) {\n      if (checkCell([a - i, b - i], \"B\", -i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b + i < 8 && a - i >= 0; i++) {\n      if (checkCell([a - i, b + i], \"B\", i)) {\n        break;\n      }\n    }\n\n    for (let i = 1; b - i >= 0 && a + i < 8; i++) {\n      if (checkCell([a + i, b - i], \"B\", -i)) {\n        break;\n      }\n    }\n\n    let knights = [[a - 2, b - 1], [a - 1, b + 2], [a - 2, b + 1], [a + 1, b + 2], [a + 2, b - 1], [a - 1, b - 2], [a + 2, b + 1], [a + 1, b - 2]];\n    knights = knights.filter(_ref2 => {\n      let [x, y] = _ref2;\n      return x >= 0 && x < 8 && y >= 0 && y < 8 && gameField[y][x][0] !== turn;\n    });\n    knights.forEach(_ref3 => {\n      let [x, y] = _ref3;\n\n      if (gameField[y][x][1] === \"N\") {\n        checkCRD = [x, y];\n        check += 1;\n      }\n    });\n    return check;\n  };\n}\n\n_s(useCheckForChecks, \"PyswnraCOO868hYsuhle+CeOSW0=\", false, function () {\n  return [useSelector];\n});","map":{"version":3,"names":["useSelector","turns","checkCRD","useCheckForChecks","gameField","turn","store","chess","check","color","a","b","i","checkCell","knights","filter","x","y","forEach"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Game/Pieces/Logic/King activity/Checks.js"],"sourcesContent":["import { useSelector } from 'react-redux';\r\nimport {turns} from \"../Move piece/Move piece\";\r\n\r\nlet checkCRD = []\r\n\r\nexport default function useCheckForChecks(){\r\n\r\n    const { gameField, turn } = useSelector(store => store.chess)\r\n\r\n    let check = 0\r\n    const color = turns[turn]\r\n\r\n\r\n\r\n    return ([a, b]) => {\r\n        \r\n        // Rook check\r\n\r\n        for (let i = 1; a + i < 8; i++) {\r\n            if (checkCell([a + i, b], \"R\", i)) {\r\n                break\r\n            }\r\n        }\r\n        for (let i = 1; a - i >= 0; i++) {\r\n            if (checkCell([a - i, b], \"R\", i)) {\r\n                break\r\n            }\r\n        }\r\n        for (let i = 1; b + i < 8; i++) {\r\n            if (checkCell([a, b + i], \"R\", i)) {\r\n                break\r\n            }\r\n        }\r\n        for (let i = 1; b - i >= 0; i++) {\r\n            if (checkCell([a, b - i], \"R\", i)) {\r\n                break\r\n            }\r\n        }\r\n\r\n        // Bishop check\r\n\r\n        for (let i = 1; a + i < 8 && b + i < 8; i++) {\r\n            if (checkCell([a + i, b + i], \"B\", i)) {\r\n                break\r\n            }\r\n        }\r\n        for (let i = 1; a - i >= 0 && b - i >= 0; i++) {\r\n            if (checkCell([a - i, b - i], \"B\", -i)) {\r\n                break\r\n            }\r\n        }\r\n        for (let i = 1; b + i < 8 && a - i >= 0; i++) {\r\n            if (checkCell([a - i, b + i], \"B\", i)) {\r\n                break\r\n            }\r\n        }\r\n        for (let i = 1; b - i >= 0 && a + i < 8; i++) {\r\n            if (checkCell([a + i, b - i], \"B\", -i)) {\r\n                break\r\n            }\r\n        }\r\n\r\n        let knights = [\r\n            [a - 2, b - 1], [a - 1, b + 2],\r\n            [a - 2, b + 1], [a + 1, b + 2],\r\n            [a + 2, b - 1], [a - 1, b - 2],\r\n            [a + 2, b + 1], [a + 1, b - 2]\r\n        ]\r\n\r\n        knights = knights.filter(([x, y]) =>\r\n            x >= 0 && x < 8 &&\r\n            y >= 0 && y < 8 &&\r\n            gameField[y][x][0] !== turn\r\n        )\r\n\r\n        knights.forEach(([x, y]) => {\r\n            if (gameField[y][x][1] === \"N\") {\r\n                checkCRD = [x, y]\r\n                check += 1\r\n            }\r\n        })\r\n\r\n        return check\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}