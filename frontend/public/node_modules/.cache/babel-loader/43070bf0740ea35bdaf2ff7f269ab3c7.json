{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useDispatch } from 'react-redux';\nimport { movePiece } from '../../../features/chess/chessSlice';\nexport default function useStartDragging(nextMovesArray, x, y) {\n  _s();\n\n  const dispatch = useDispatch();\n  return event => {\n    const startingX = event.clientX;\n    const startingY = event.clientY;\n    const target = event.target;\n    target.style.transition = 'none';\n    target.style.zIndex = '3';\n\n    const follow = event => {\n      target.style.left = `${x * 80 + event.x - startingX}px`;\n      target.style.top = `${y * 80 + event.y - startingY}px`;\n    };\n\n    const unFollow = event => {\n      let newX = x + Math.round((event.x - startingX) / 80);\n      let newY = y + Math.round((event.y - startingY) / 80);\n\n      if (nextMovesArray.map(i => i.toString()).includes([newX, newY].toString())) {\n        dispatch(movePiece([newX, newY]));\n      } else {\n        target.style.transition = '170ms';\n        target.style.top = `${y * 80}px`;\n        target.style.left = `${x * 80}px`;\n      }\n\n      window.removeEventListener('mousemove', follow);\n      window.removeEventListener('mouseup', unFollow);\n    };\n\n    window.addEventListener('mousemove', follow);\n    window.addEventListener('mouseup', unFollow);\n  };\n}\n\n_s(useStartDragging, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useDispatch","movePiece","useStartDragging","nextMovesArray","x","y","dispatch","event","startingX","clientX","startingY","clientY","target","style","transition","zIndex","follow","left","top","unFollow","newX","Math","round","newY","map","i","toString","includes","window","removeEventListener","addEventListener"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Components/Chessboard/Components/Pieces/Start dragging.js"],"sourcesContent":["import { useDispatch } from 'react-redux'\r\nimport { movePiece } from '../../../features/chess/chessSlice'\r\n\r\nexport default function useStartDragging(nextMovesArray, x, y) {\r\n\tconst dispatch = useDispatch()\r\n\r\n\treturn (event) => {\r\n\t\tconst startingX = event.clientX\r\n\t\tconst startingY = event.clientY\r\n\t\tconst target = event.target\r\n\r\n\t\ttarget.style.transition = 'none'\r\n\t\ttarget.style.zIndex = '3'\r\n\r\n\t\tconst follow = (event) => {\r\n\t\t\ttarget.style.left = `${x * 80 + event.x - startingX}px`\r\n\t\t\ttarget.style.top = `${y * 80 + event.y - startingY}px`\r\n\t\t}\r\n\t\tconst unFollow = (event) => {\r\n\t\t\tlet newX = x + Math.round((event.x - startingX) / 80)\r\n\t\t\tlet newY = y + Math.round((event.y - startingY) / 80)\r\n\r\n\t\t\tif (\r\n\t\t\t\tnextMovesArray\r\n\t\t\t\t\t.map((i) => i.toString())\r\n\t\t\t\t\t.includes([newX, newY].toString())\r\n\t\t\t) {\r\n\t\t\t\tdispatch(movePiece([newX, newY]))\r\n\t\t\t} else {\r\n\t\t\t\ttarget.style.transition = '170ms'\r\n\t\t\t\ttarget.style.top = `${y * 80}px`\r\n\t\t\t\ttarget.style.left = `${x * 80}px`\r\n\t\t\t}\r\n\r\n\t\t\twindow.removeEventListener('mousemove', follow)\r\n\t\t\twindow.removeEventListener('mouseup', unFollow)\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('mousemove', follow)\r\n\t\twindow.addEventListener('mouseup', unFollow)\r\n\t}\r\n}\r\n"],"mappings":";;AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,oCAA1B;AAEA,eAAe,SAASC,gBAAT,CAA0BC,cAA1B,EAA0CC,CAA1C,EAA6CC,CAA7C,EAAgD;EAAA;;EAC9D,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EAEA,OAAQO,KAAD,IAAW;IACjB,MAAMC,SAAS,GAAGD,KAAK,CAACE,OAAxB;IACA,MAAMC,SAAS,GAAGH,KAAK,CAACI,OAAxB;IACA,MAAMC,MAAM,GAAGL,KAAK,CAACK,MAArB;IAEAA,MAAM,CAACC,KAAP,CAAaC,UAAb,GAA0B,MAA1B;IACAF,MAAM,CAACC,KAAP,CAAaE,MAAb,GAAsB,GAAtB;;IAEA,MAAMC,MAAM,GAAIT,KAAD,IAAW;MACzBK,MAAM,CAACC,KAAP,CAAaI,IAAb,GAAqB,GAAEb,CAAC,GAAG,EAAJ,GAASG,KAAK,CAACH,CAAf,GAAmBI,SAAU,IAApD;MACAI,MAAM,CAACC,KAAP,CAAaK,GAAb,GAAoB,GAAEb,CAAC,GAAG,EAAJ,GAASE,KAAK,CAACF,CAAf,GAAmBK,SAAU,IAAnD;IACA,CAHD;;IAIA,MAAMS,QAAQ,GAAIZ,KAAD,IAAW;MAC3B,IAAIa,IAAI,GAAGhB,CAAC,GAAGiB,IAAI,CAACC,KAAL,CAAW,CAACf,KAAK,CAACH,CAAN,GAAUI,SAAX,IAAwB,EAAnC,CAAf;MACA,IAAIe,IAAI,GAAGlB,CAAC,GAAGgB,IAAI,CAACC,KAAL,CAAW,CAACf,KAAK,CAACF,CAAN,GAAUK,SAAX,IAAwB,EAAnC,CAAf;;MAEA,IACCP,cAAc,CACZqB,GADF,CACOC,CAAD,IAAOA,CAAC,CAACC,QAAF,EADb,EAEEC,QAFF,CAEW,CAACP,IAAD,EAAOG,IAAP,EAAaG,QAAb,EAFX,CADD,EAIE;QACDpB,QAAQ,CAACL,SAAS,CAAC,CAACmB,IAAD,EAAOG,IAAP,CAAD,CAAV,CAAR;MACA,CAND,MAMO;QACNX,MAAM,CAACC,KAAP,CAAaC,UAAb,GAA0B,OAA1B;QACAF,MAAM,CAACC,KAAP,CAAaK,GAAb,GAAoB,GAAEb,CAAC,GAAG,EAAG,IAA7B;QACAO,MAAM,CAACC,KAAP,CAAaI,IAAb,GAAqB,GAAEb,CAAC,GAAG,EAAG,IAA9B;MACA;;MAEDwB,MAAM,CAACC,mBAAP,CAA2B,WAA3B,EAAwCb,MAAxC;MACAY,MAAM,CAACC,mBAAP,CAA2B,SAA3B,EAAsCV,QAAtC;IACA,CAlBD;;IAoBAS,MAAM,CAACE,gBAAP,CAAwB,WAAxB,EAAqCd,MAArC;IACAY,MAAM,CAACE,gBAAP,CAAwB,SAAxB,EAAmCX,QAAnC;EACA,CAlCD;AAmCA;;GAtCuBjB,gB;UACNF,W"},"metadata":{},"sourceType":"module"}