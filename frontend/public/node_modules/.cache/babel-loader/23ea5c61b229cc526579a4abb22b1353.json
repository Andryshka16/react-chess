{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport gameField from './Gamefield';\nconst turns = {\n  \"b\": \"w\",\n  \"w\": \"b\"\n};\nconst initialState = {\n  gameField,\n  turn: \"w\",\n  colors: [\"rgb(255,195,151)\", \"rgb(39,39,39)\"],\n  selected: null,\n  nextMoves: [],\n  check: null,\n  previousMove: [],\n  castlingMoved: [],\n  coverMoves: [],\n  followingPiece: {\n    target: null,\n    startingX: null,\n    startingX: null\n  }\n};\nconst gameField2 = [['0', '0', '0', '0', '0', '0', '0', 'bR'], ['0', '0', '0', '0', '0', 'bK', '0', '0'], ['0', 'wB', '0', '0', '0', '0', '0', '0'], ['0', '0', '0', '0', '0', '0', '0', '0'], ['0', '0', '0', '0', '0', '0', '0', '0'], ['0', '0', '0', '0', '0', '0', '0', '0'], ['0', '0', '0', '0', '0', '0', '0', '0'], ['0', \"0\", '0', 'wQ', 'wK', '0', '0', 'wR']];\nconst chessSlice = createSlice({\n  name: \"chess\",\n  initialState,\n  reducers: {\n    clearNextMoves: state => {\n      state.nextMoves = [];\n    },\n    setNextMoves: (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.nextMoves = payload;\n    },\n    setCheck: (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.check = payload;\n    },\n    setTurn: (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.turn = payload;\n    },\n    setSelected: (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.selected = payload;\n    },\n    movePiece: (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      console.log('moved on', payload);\n      if (!state.selected) return state;\n      state.turn = turns[state.turn];\n      const [x2, y2] = payload;\n      const {\n        x,\n        y,\n        name\n      } = state.selected;\n      state.gameField[y2][x2] = name;\n      state.gameField[y][x] = \"0\";\n      state.selected = null;\n      state.nextMoves = [];\n    }\n  }\n});\nexport default chessSlice.reducer;\nexport const {\n  clearNextMoves,\n  setNextMoves,\n  setCheck,\n  setTurn,\n  setSelected,\n  movePiece\n} = chessSlice.actions;","map":{"version":3,"names":["createSlice","gameField","turns","initialState","turn","colors","selected","nextMoves","check","previousMove","castlingMoved","coverMoves","followingPiece","target","startingX","gameField2","chessSlice","name","reducers","clearNextMoves","state","setNextMoves","payload","setCheck","setTurn","setSelected","movePiece","console","log","x2","y2","x","y","reducer","actions"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/features/chess/chessSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\nimport gameField from './Gamefield'\r\n\r\nconst turns = {\r\n    \"b\": \"w\",\r\n    \"w\": \"b\"\r\n}\r\n\r\nconst initialState = {\r\n    gameField,\r\n    turn: \"w\",\r\n    colors: [\r\n        \"rgb(255,195,151)\",\r\n        \"rgb(39,39,39)\"\r\n    ],\r\n    selected: null,\r\n    nextMoves: [],\r\n    check: null,\r\n    previousMove: [],\r\n    castlingMoved: [],\r\n    coverMoves: [],\r\n    followingPiece: {\r\n        target: null,\r\n        startingX: null,\r\n        startingX: null,\r\n    }\r\n\r\n}\r\n\r\nconst gameField2 = [\r\n    [ '0', '0', '0', '0', '0', '0', '0', 'bR' ],\r\n    [ '0', '0', '0', '0', '0', 'bK', '0', '0' ],\r\n    [ '0', 'wB', '0', '0', '0', '0', '0', '0' ],\r\n    [ '0', '0', '0', '0', '0', '0', '0', '0' ],\r\n    [ '0', '0', '0', '0', '0', '0', '0', '0' ],\r\n    [ '0', '0', '0', '0', '0', '0', '0', '0' ],\r\n    [ '0', '0', '0', '0', '0', '0', '0', '0' ],\r\n    [ '0', \"0\", '0', 'wQ', 'wK', '0', '0', 'wR' ]\r\n]\r\n\r\nconst chessSlice = createSlice({\r\n    name: \"chess\",\r\n    initialState,\r\n    reducers: {\r\n        clearNextMoves: (state) => {\r\n            state.nextMoves = []\r\n        },\r\n        setNextMoves: (state, {payload}) => {\r\n            state.nextMoves = payload\r\n        },\r\n        setCheck: (state, {payload}) => {\r\n            state.check = payload\r\n        },\r\n        setTurn: (state, {payload}) => {\r\n            state.turn = payload\r\n        },\r\n        setSelected: (state, {payload}) => {\r\n            state.selected = payload\r\n        },\r\n        movePiece: (state, { payload }) => {\r\n\r\n            console.log('moved on', payload)\r\n            if (!state.selected) return state\r\n        \r\n            state.turn = turns[state.turn]\r\n            const [x2, y2] = payload\r\n            const { x, y, name} = state.selected\r\n            state.gameField[y2][x2] = name\r\n            state.gameField[y][x] = \"0\"\r\n            state.selected = null\r\n            state.nextMoves = []\r\n        }\r\n        \r\n    }\r\n})\r\n\r\nexport default chessSlice.reducer\r\n\r\nexport const {\r\n    clearNextMoves,\r\n    setNextMoves,\r\n    setCheck,\r\n    setTurn,\r\n    setSelected,\r\n    movePiece\r\n} = chessSlice.actions\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}