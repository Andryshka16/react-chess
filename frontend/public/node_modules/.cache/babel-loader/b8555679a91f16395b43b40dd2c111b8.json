{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport useNextMovesInclude from './Logic/Next moves/Nextmoves include';\nimport useMovePiece from './Logic/Move piece/Move piece';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setFollowing } from '../../../features/chess/chessSlice';\n\nconst useFollow = event => {\n  _s();\n\n  const {\n    target,\n    x,\n    y,\n    startingX,\n    startingY\n  } = useSelector(store => store.chess.followingPiece);\n  target.style.left = `${x * 60 + event.x - startingX}px`;\n  target.style.top = `${y * 60 + event.y - startingY}px`;\n};\n\n_s(useFollow, \"WQPTwhTc98+VXmhXpOxwKKZalPE=\", false, function () {\n  return [useSelector];\n});\n\nconst useUnFollow = event => {\n  _s2();\n\n  const nextMovesIncludeCell = useNextMovesInclude([newX, newY]);\n  const movePiece = useMovePiece(newX, newY);\n  const {\n    target,\n    x,\n    y,\n    startingX,\n    startingY\n  } = useSelector(store => store.chess.followingPiece);\n  let newX = x + Math.round((event.x - startingX) / 60);\n  let newY = y + Math.round((event.y - startingY) / 60);\n\n  if (nextMovesIncludeCell) {\n    console.log(true);\n    movePiece();\n  }\n\n  target.style.transition = \"170ms\";\n  target.style.zIndex = \"2\";\n  target.style.top = `${y * 60}px`;\n  target.style.left = `${x * 60}px`;\n  window.removeEventListener(\"mousemove\", useFollow);\n  window.removeEventListener(\"mouseup\", useUnFollow);\n};\n\n_s2(useUnFollow, \"Dxo/UkZHeqfo5jACp299V7/raho=\", false, function () {\n  return [useNextMovesInclude, useMovePiece, useSelector];\n});\n\nexport default function useStartFollowing(event, x, y) {\n  _s3();\n\n  const dispatch = useDispatch();\n  const startingX = event.clientX;\n  const startingY = event.clientY;\n  const target = event.target;\n  target.style.transition = \"none\";\n  target.style.zIndex = \"3\";\n  dispatch(setFollowing({\n    target,\n    x,\n    y,\n    startingX,\n    startingY\n  }));\n  window.addEventListener(\"mousemove\", useFollow);\n  window.addEventListener(\"mouseup\", useUnFollow);\n}\n\n_s3(useStartFollowing, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useNextMovesInclude","useMovePiece","useDispatch","useSelector","setFollowing","useFollow","event","target","x","y","startingX","startingY","store","chess","followingPiece","style","left","top","useUnFollow","nextMovesIncludeCell","newX","newY","movePiece","Math","round","console","log","transition","zIndex","window","removeEventListener","useStartFollowing","dispatch","clientX","clientY","addEventListener"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Game/Pieces/Start motion.js"],"sourcesContent":["\r\nimport useNextMovesInclude from './Logic/Next moves/Nextmoves include'\r\nimport useMovePiece from './Logic/Move piece/Move piece'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setFollowing } from '../../../features/chess/chessSlice'\r\n\r\nconst useFollow = (event) => {\r\n\r\n    const { target, x, y, startingX, startingY } = useSelector(store => store.chess.followingPiece)\r\n    \r\n    target.style.left = `${x * 60 + event.x - startingX}px`\r\n    target.style.top = `${y * 60 + event.y - startingY}px`\r\n}\r\n\r\nconst useUnFollow = (event) => {\r\n\r\n    const nextMovesIncludeCell = useNextMovesInclude([newX, newY])\r\n    const movePiece = useMovePiece(newX, newY)\r\n\r\n    const { target, x, y, startingX, startingY } = useSelector(store => store.chess.followingPiece)\r\n\r\n    let newX = x + Math.round((event.x - startingX) / 60)\r\n    let newY = y + Math.round((event.y - startingY) / 60)\r\n\r\n\r\n\r\n    if (nextMovesIncludeCell){\r\n        console.log(true)\r\n        movePiece()\r\n    }\r\n\r\n    target.style.transition = \"170ms\"\r\n    target.style.zIndex = \"2\"\r\n\r\n    target.style.top = `${y * 60}px`\r\n    target.style.left = `${x * 60}px`\r\n\r\n    window.removeEventListener(\"mousemove\", useFollow)\r\n    window.removeEventListener(\"mouseup\", useUnFollow)\r\n}\r\n\r\nexport default function useStartFollowing(event, x, y){\r\n\r\n    const dispatch = useDispatch()\r\n    \r\n    const startingX = event.clientX\r\n    const startingY = event.clientY\r\n    const target = event.target\r\n\r\n    target.style.transition = \"none\"\r\n    target.style.zIndex = \"3\"\r\n\r\n    dispatch(setFollowing({\r\n        target, x, y, startingX, startingY\r\n    }))\r\n\r\n    window.addEventListener(\"mousemove\", useFollow)\r\n    window.addEventListener(\"mouseup\", useUnFollow)\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}