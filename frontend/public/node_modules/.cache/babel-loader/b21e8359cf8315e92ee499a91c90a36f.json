{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport checkForChecks from \"../King activity/Checks\";\nimport { useSelector } from \"react-redux\";\nexport default function useCanCastle(x, y) {\n  _s();\n\n  let castlingMoves = [];\n  const {\n    gameField,\n    turn,\n    castlingMoved\n  } = useSelector(store => store.chess);\n\n  for (let rook of [x - 4, x + 3]) {\n    if (x !== 4 || gameField[y][rook] !== turn + \"R\" || castlingMoved.includes(gameField[y][x]) || castlingMoved.includes(rook + turn + \"R\") || checkForChecks([x, y])) continue;\n    let k = rook > 4 ? 1 : -1;\n    if (checkForChecks([4 + k, y]) || gameField[y][4 + k] !== \"0\" || checkForChecks([4 + 2 * k, y]) || gameField[y][4 + 2 * k] !== \"0\") continue;\n    castlingMoves.push([rook, y]);\n  }\n\n  return castlingMoves;\n}\n\n_s(useCanCastle, \"qkwWbph4e3csA2KfpXJ3ueZu7UU=\", false, function () {\n  return [useSelector];\n});","map":{"version":3,"names":["checkForChecks","useSelector","useCanCastle","x","y","castlingMoves","gameField","turn","castlingMoved","store","chess","rook","includes","k","push"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Game/Pieces/Logic/Next moves/Allow castling.js"],"sourcesContent":["import checkForChecks from \"../King activity/Checks\";\r\nimport { useSelector } from \"react-redux\"\r\n\r\nexport default function useCanCastle(x, y) {\r\n\r\n\r\n    \r\n    let castlingMoves = []\r\n    const {gameField, turn, castlingMoved} = useSelector(store => store.chess)\r\n\r\n    for (let rook of [x-4, x+3]) {\r\n\r\n        if (x !== 4\r\n            || gameField[y][rook] !== turn + \"R\"\r\n            || castlingMoved.includes(gameField[y][x])\r\n            || castlingMoved.includes(rook + turn + \"R\")\r\n            || checkForChecks([x, y])\r\n        ) continue\r\n\r\n        let k = rook > 4? 1: -1\r\n\r\n        if (\r\n            (checkForChecks([4 + k, y]) || gameField[y][4 + k] !== \"0\") ||\r\n            (checkForChecks([4 + 2*k, y]) || gameField[y][4 + 2*k] !== \"0\")\r\n        ) continue\r\n\r\n        castlingMoves.push([rook, y])\r\n    }\r\n\r\n    return castlingMoves\r\n}"],"mappings":";;AAAA,OAAOA,cAAP,MAA2B,yBAA3B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,eAAe,SAASC,YAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;EAAA;;EAIvC,IAAIC,aAAa,GAAG,EAApB;EACA,MAAM;IAACC,SAAD;IAAYC,IAAZ;IAAkBC;EAAlB,IAAmCP,WAAW,CAACQ,KAAK,IAAIA,KAAK,CAACC,KAAhB,CAApD;;EAEA,KAAK,IAAIC,IAAT,IAAiB,CAACR,CAAC,GAAC,CAAH,EAAMA,CAAC,GAAC,CAAR,CAAjB,EAA6B;IAEzB,IAAIA,CAAC,KAAK,CAAN,IACGG,SAAS,CAACF,CAAD,CAAT,CAAaO,IAAb,MAAuBJ,IAAI,GAAG,GADjC,IAEGC,aAAa,CAACI,QAAd,CAAuBN,SAAS,CAACF,CAAD,CAAT,CAAaD,CAAb,CAAvB,CAFH,IAGGK,aAAa,CAACI,QAAd,CAAuBD,IAAI,GAAGJ,IAAP,GAAc,GAArC,CAHH,IAIGP,cAAc,CAAC,CAACG,CAAD,EAAIC,CAAJ,CAAD,CAJrB,EAKE;IAEF,IAAIS,CAAC,GAAGF,IAAI,GAAG,CAAP,GAAU,CAAV,GAAa,CAAC,CAAtB;IAEA,IACKX,cAAc,CAAC,CAAC,IAAIa,CAAL,EAAQT,CAAR,CAAD,CAAd,IAA8BE,SAAS,CAACF,CAAD,CAAT,CAAa,IAAIS,CAAjB,MAAwB,GAAvD,IACCb,cAAc,CAAC,CAAC,IAAI,IAAEa,CAAP,EAAUT,CAAV,CAAD,CAAd,IAAgCE,SAAS,CAACF,CAAD,CAAT,CAAa,IAAI,IAAES,CAAnB,MAA0B,GAF/D,EAGE;IAEFR,aAAa,CAACS,IAAd,CAAmB,CAACH,IAAD,EAAOP,CAAP,CAAnB;EACH;;EAED,OAAOC,aAAP;AACH;;GA3BuBH,Y;UAKqBD,W"},"metadata":{},"sourceType":"module"}