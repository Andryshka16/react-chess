{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport useNextMovesInclude from './Logic/Next moves/Nextmoves include';\nimport useMovePiece from './Logic/Move piece/Move piece';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setFollowing } from '../../../features/chess/chessSlice';\nexport default function useStartFollowing(x, y) {\n  _s();\n\n  const nextMovesInclude = useNextMovesInclude();\n  const movePiece = useMovePiece();\n  return event => {\n    const startingX = event.clientX;\n    const startingY = event.clientY;\n    const target = event.target;\n    target.style.transition = \"none\";\n    target.style.zIndex = \"3\";\n\n    const follow = event => {\n      target.style.left = `${x * 60 + event.x - startingX}px`;\n      target.style.top = `${y * 60 + event.y - startingY}px`;\n    };\n\n    const unFollow = event => {\n      let newX = x + Math.round((event.x - startingX) / 60);\n      let newY = y + Math.round((event.y - startingY) / 60);\n      console.log(newX, newY);\n\n      if (nextMovesInclude([newX, newY])) {\n        console.log(true);\n        target.style.top = `${newY}px`;\n        target.style.left = `${newX}px`;\n        movePiece(newX, newY);\n      } else {\n        target.style.top = `${y * 60}px`;\n        target.style.left = `${y * 60}px`;\n      }\n\n      target.style.transition = \"170ms\";\n      target.style.zIndex = \"2\";\n      window.removeEventListener(\"mousemove\", follow);\n      window.removeEventListener(\"mouseup\", unFollow);\n    };\n\n    window.addEventListener(\"mousemove\", follow);\n    window.addEventListener(\"mouseup\", unFollow);\n  };\n}\n\n_s(useStartFollowing, \"Tg5PeVLi3lEMDbQgRyMIXqvHou4=\", false, function () {\n  return [useNextMovesInclude, useMovePiece];\n});","map":{"version":3,"names":["useNextMovesInclude","useMovePiece","useDispatch","useSelector","setFollowing","useStartFollowing","x","y","nextMovesInclude","movePiece","event","startingX","clientX","startingY","clientY","target","style","transition","zIndex","follow","left","top","unFollow","newX","Math","round","newY","console","log","window","removeEventListener","addEventListener"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Game/Pieces/Start motion.js"],"sourcesContent":["\r\nimport useNextMovesInclude from './Logic/Next moves/Nextmoves include'\r\nimport useMovePiece from './Logic/Move piece/Move piece'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setFollowing } from '../../../features/chess/chessSlice'\r\n\r\n    \r\nexport default function useStartFollowing(x, y) {\r\n    \r\n    const nextMovesInclude = useNextMovesInclude()\r\n    const movePiece = useMovePiece()\r\n\r\n    return (event)=>{\r\n\r\n        const startingX = event.clientX\r\n        const startingY = event.clientY\r\n        const target = event.target\r\n\r\n        target.style.transition = \"none\"\r\n        target.style.zIndex = \"3\"\r\n\r\n        const follow = (event) => {\r\n            target.style.left = `${x * 60 + event.x - startingX}px`\r\n            target.style.top = `${y * 60 + event.y - startingY}px`\r\n        }\r\n        const unFollow = (event) => {\r\n\r\n            let newX = x + Math.round((event.x - startingX) / 60)\r\n            let newY = y + Math.round((event.y - startingY) / 60)\r\n            console.log(newX, newY)\r\n\r\n            if (nextMovesInclude([newX, newY])) {\r\n                console.log(true);\r\n                target.style.top = `${newY}px`\r\n                target.style.left = `${newX}px`\r\n                movePiece(newX, newY)\r\n            }\r\n            else {\r\n                target.style.top = `${y * 60}px`\r\n                target.style.left = `${y * 60}px`\r\n            }\r\n            \r\n            target.style.transition = \"170ms\"\r\n            target.style.zIndex = \"2\"\r\n\r\n\r\n\r\n            window.removeEventListener(\"mousemove\", follow)\r\n            window.removeEventListener(\"mouseup\", unFollow)\r\n        }\r\n\r\n        window.addEventListener(\"mousemove\", follow)\r\n        window.addEventListener(\"mouseup\", unFollow)\r\n    }\r\n}"],"mappings":";;AACA,OAAOA,mBAAP,MAAgC,sCAAhC;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,YAAT,QAA6B,oCAA7B;AAGA,eAAe,SAASC,iBAAT,CAA2BC,CAA3B,EAA8BC,CAA9B,EAAiC;EAAA;;EAE5C,MAAMC,gBAAgB,GAAGR,mBAAmB,EAA5C;EACA,MAAMS,SAAS,GAAGR,YAAY,EAA9B;EAEA,OAAQS,KAAD,IAAS;IAEZ,MAAMC,SAAS,GAAGD,KAAK,CAACE,OAAxB;IACA,MAAMC,SAAS,GAAGH,KAAK,CAACI,OAAxB;IACA,MAAMC,MAAM,GAAGL,KAAK,CAACK,MAArB;IAEAA,MAAM,CAACC,KAAP,CAAaC,UAAb,GAA0B,MAA1B;IACAF,MAAM,CAACC,KAAP,CAAaE,MAAb,GAAsB,GAAtB;;IAEA,MAAMC,MAAM,GAAIT,KAAD,IAAW;MACtBK,MAAM,CAACC,KAAP,CAAaI,IAAb,GAAqB,GAAEd,CAAC,GAAG,EAAJ,GAASI,KAAK,CAACJ,CAAf,GAAmBK,SAAU,IAApD;MACAI,MAAM,CAACC,KAAP,CAAaK,GAAb,GAAoB,GAAEd,CAAC,GAAG,EAAJ,GAASG,KAAK,CAACH,CAAf,GAAmBM,SAAU,IAAnD;IACH,CAHD;;IAIA,MAAMS,QAAQ,GAAIZ,KAAD,IAAW;MAExB,IAAIa,IAAI,GAAGjB,CAAC,GAAGkB,IAAI,CAACC,KAAL,CAAW,CAACf,KAAK,CAACJ,CAAN,GAAUK,SAAX,IAAwB,EAAnC,CAAf;MACA,IAAIe,IAAI,GAAGnB,CAAC,GAAGiB,IAAI,CAACC,KAAL,CAAW,CAACf,KAAK,CAACH,CAAN,GAAUM,SAAX,IAAwB,EAAnC,CAAf;MACAc,OAAO,CAACC,GAAR,CAAYL,IAAZ,EAAkBG,IAAlB;;MAEA,IAAIlB,gBAAgB,CAAC,CAACe,IAAD,EAAOG,IAAP,CAAD,CAApB,EAAoC;QAChCC,OAAO,CAACC,GAAR,CAAY,IAAZ;QACAb,MAAM,CAACC,KAAP,CAAaK,GAAb,GAAoB,GAAEK,IAAK,IAA3B;QACAX,MAAM,CAACC,KAAP,CAAaI,IAAb,GAAqB,GAAEG,IAAK,IAA5B;QACAd,SAAS,CAACc,IAAD,EAAOG,IAAP,CAAT;MACH,CALD,MAMK;QACDX,MAAM,CAACC,KAAP,CAAaK,GAAb,GAAoB,GAAEd,CAAC,GAAG,EAAG,IAA7B;QACAQ,MAAM,CAACC,KAAP,CAAaI,IAAb,GAAqB,GAAEb,CAAC,GAAG,EAAG,IAA9B;MACH;;MAEDQ,MAAM,CAACC,KAAP,CAAaC,UAAb,GAA0B,OAA1B;MACAF,MAAM,CAACC,KAAP,CAAaE,MAAb,GAAsB,GAAtB;MAIAW,MAAM,CAACC,mBAAP,CAA2B,WAA3B,EAAwCX,MAAxC;MACAU,MAAM,CAACC,mBAAP,CAA2B,SAA3B,EAAsCR,QAAtC;IACH,CAxBD;;IA0BAO,MAAM,CAACE,gBAAP,CAAwB,WAAxB,EAAqCZ,MAArC;IACAU,MAAM,CAACE,gBAAP,CAAwB,SAAxB,EAAmCT,QAAnC;EACH,CAzCD;AA0CH;;GA/CuBjB,iB;UAEKL,mB,EACPC,Y"},"metadata":{},"sourceType":"module"}