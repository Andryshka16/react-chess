{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport useCheckForChecks from '../King activity/Checks';\nimport { useSelector } from 'react-redux';\nexport default function useCanCastle(x, y) {\n  _s();\n\n  const {\n    gameField,\n    turn,\n    castlingMoved\n  } = useSelector(store => store.chess);\n  const checkForChecks = useCheckForChecks();\n  if (gameField[y][x][1] !== 'K') return [];\n  let castlingMoves = [];\n\n  for (let rook of [x - 4, x + 3]) {\n    if (x !== 4 || gameField[y][rook] !== turn + 'R' || castlingMoved.includes(gameField[y][x]) || castlingMoved.includes(rook + turn + 'R') || checkForChecks([x, y])) continue;\n    let k = rook > 4 ? 1 : -1;\n    if (checkForChecks([4 + k, y]) || gameField[y][4 + k] !== '0' || checkForChecks([4 + 2 * k, y]) || gameField[y][4 + 2 * k] !== '0') continue;\n    castlingMoves.push([rook, y]);\n  }\n\n  return castlingMoves;\n}\n\n_s(useCanCastle, \"xiwE71RS6vmdvCZ+aol5EfPgmV0=\", false, function () {\n  return [useSelector, useCheckForChecks];\n});","map":{"version":3,"names":["useCheckForChecks","useSelector","useCanCastle","x","y","gameField","turn","castlingMoved","store","chess","checkForChecks","castlingMoves","rook","includes","k","push"],"sources":["C:/Users/alapc/OneDrive/Documents/Programming/chess/src/Chessboard/Game/Pieces/Logic/Next moves/Allow castling.js"],"sourcesContent":["import useCheckForChecks from '../King activity/Checks'\r\nimport { useSelector } from 'react-redux'\r\n\r\nexport default function useCanCastle(x, y) {\r\n\tconst { gameField, turn, castlingMoved } = useSelector(\r\n\t\t(store) => store.chess\r\n\t)\r\n\tconst checkForChecks = useCheckForChecks()\r\n\r\n\tif (gameField[y][x][1] !== 'K') return []\r\n\r\n\tlet castlingMoves = []\r\n\tfor (let rook of [x - 4, x + 3]) {\r\n\t\tif (\r\n\t\t\tx !== 4 ||\r\n\t\t\tgameField[y][rook] !== turn + 'R' ||\r\n\t\t\tcastlingMoved.includes(gameField[y][x]) ||\r\n\t\t\tcastlingMoved.includes(rook + turn + 'R') ||\r\n\t\t\tcheckForChecks([x, y])\r\n\t\t)\r\n\t\t\tcontinue\r\n\r\n\t\tlet k = rook > 4 ? 1 : -1\r\n\r\n\t\tif (\r\n\t\t\tcheckForChecks([4 + k, y]) ||\r\n\t\t\tgameField[y][4 + k] !== '0' ||\r\n\t\t\tcheckForChecks([4 + 2 * k, y]) ||\r\n\t\t\tgameField[y][4 + 2 * k] !== '0'\r\n\t\t)\r\n\t\t\tcontinue\r\n\r\n\t\tcastlingMoves.push([rook, y])\r\n\t}\r\n\r\n\treturn castlingMoves\r\n}\r\n"],"mappings":";;AAAA,OAAOA,iBAAP,MAA8B,yBAA9B;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,eAAe,SAASC,YAAT,CAAsBC,CAAtB,EAAyBC,CAAzB,EAA4B;EAAA;;EAC1C,MAAM;IAAEC,SAAF;IAAaC,IAAb;IAAmBC;EAAnB,IAAqCN,WAAW,CACpDO,KAAD,IAAWA,KAAK,CAACC,KADoC,CAAtD;EAGA,MAAMC,cAAc,GAAGV,iBAAiB,EAAxC;EAEA,IAAIK,SAAS,CAACD,CAAD,CAAT,CAAaD,CAAb,EAAgB,CAAhB,MAAuB,GAA3B,EAAgC,OAAO,EAAP;EAEhC,IAAIQ,aAAa,GAAG,EAApB;;EACA,KAAK,IAAIC,IAAT,IAAiB,CAACT,CAAC,GAAG,CAAL,EAAQA,CAAC,GAAG,CAAZ,CAAjB,EAAiC;IAChC,IACCA,CAAC,KAAK,CAAN,IACAE,SAAS,CAACD,CAAD,CAAT,CAAaQ,IAAb,MAAuBN,IAAI,GAAG,GAD9B,IAEAC,aAAa,CAACM,QAAd,CAAuBR,SAAS,CAACD,CAAD,CAAT,CAAaD,CAAb,CAAvB,CAFA,IAGAI,aAAa,CAACM,QAAd,CAAuBD,IAAI,GAAGN,IAAP,GAAc,GAArC,CAHA,IAIAI,cAAc,CAAC,CAACP,CAAD,EAAIC,CAAJ,CAAD,CALf,EAOC;IAED,IAAIU,CAAC,GAAGF,IAAI,GAAG,CAAP,GAAW,CAAX,GAAe,CAAC,CAAxB;IAEA,IACCF,cAAc,CAAC,CAAC,IAAII,CAAL,EAAQV,CAAR,CAAD,CAAd,IACAC,SAAS,CAACD,CAAD,CAAT,CAAa,IAAIU,CAAjB,MAAwB,GADxB,IAEAJ,cAAc,CAAC,CAAC,IAAI,IAAII,CAAT,EAAYV,CAAZ,CAAD,CAFd,IAGAC,SAAS,CAACD,CAAD,CAAT,CAAa,IAAI,IAAIU,CAArB,MAA4B,GAJ7B,EAMC;IAEDH,aAAa,CAACI,IAAd,CAAmB,CAACH,IAAD,EAAOR,CAAP,CAAnB;EACA;;EAED,OAAOO,aAAP;AACA;;GAjCuBT,Y;UACoBD,W,EAGpBD,iB"},"metadata":{},"sourceType":"module"}